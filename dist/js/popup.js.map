{"version":3,"file":"js/popup.js","mappings":";;;;;;;;;;;;;;;;;;;AA6LA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAMA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AApkBA;AAAA;AAEA;;AACA;AAAA;;AAeA;AAAA;;;;;;AA0DA;AAAA;;;;;;;;;;;;;;;AA8EA;AAAA;;;;;;;;AA1JA;AACA;AAAA;AAAA;;AACA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AACA;AAAA;;AACA;AAEA;AAAA;AAAA;AAAA;;AACA;;;AAGA;AAEA;AACA;AAAA;AAAA;;AAEA;;;AAGA;AAEA;AACA;AAAA;AAAA;;AAEA;;;AAIA;AAGA;AACA;AAAA;AAAA;;AAEA;;;AAGA;AACA;AAAA;AAAA;AAAA;;AACA;;;AAGA;AAQA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;;;;AAKA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;;AAGA;AAOA;AAPA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;;;;AAKA;AAKA;AALA;AAEA;AAAA;AACA;;;;;AAIA;AAKA;AALA;AAEA;AAAA;AACA;;;;;AAIA;AAOA;AAPA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;;;;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AACA;AAGA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;;AACA;AACA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;;AACA;AACA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AAAA;;AAIA;AAiBA;AACA;AACA;AACA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;;AAGA;AAOA;AAPA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;;;;AAKA;AAKA;AALA;AAEA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;AClLA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;;;;;;;;;;;AC1BA;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;;ACxBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACVA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AElDA;AACA;AACA;AACA;AACA","sources":["webpack://fofa-search/./src/popup/components/App.vue","webpack://fofa-search/./src/plugins/axios/index.js","webpack://fofa-search/./src/popup/main.js","webpack://fofa-search/./src/popup/components/App.vue?1399","webpack://fofa-search/./src/popup/components/App.vue?7c54","webpack://fofa-search/./src/popup/components/App.vue?ca16","webpack://fofa-search/webpack/bootstrap","webpack://fofa-search/webpack/runtime/chunk loaded","webpack://fofa-search/webpack/runtime/compat get default export","webpack://fofa-search/webpack/runtime/define property getters","webpack://fofa-search/webpack/runtime/global","webpack://fofa-search/webpack/runtime/harmony module decorator","webpack://fofa-search/webpack/runtime/hasOwnProperty shorthand","webpack://fofa-search/webpack/runtime/make namespace object","webpack://fofa-search/webpack/runtime/jsonp chunk loading","webpack://fofa-search/webpack/before-startup","webpack://fofa-search/webpack/startup","webpack://fofa-search/webpack/after-startup"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <a-spin tip=\"Loading...\" :delay=\"1\" :spinning=\"MainLoading\">\r\n      <br />\r\n      <div class=\"top\">\r\n        <!-- 放弃把key写入缓存来获取，这样刚打开会比较慢 -->\r\n        <!-- <span>{{MainDesc.author}}：zhizhuo</span>\r\n        <span style=\"margin-left: 10px\">{{MainDesc.team}}：WgpSec</span> -->\r\n        <!-- <p>\r\n    <input v-model=\"inputApiKey\" placeholder=\"Enter your API Key\">    \r\n    <a-button type=\"primary\" shape=\"round\" style=\"float: right; margin-right: 20px\" @click=\"saveFofaApiKey(inputApiKey)\">\r\n      Save API Key\r\n    </a-button>\r\n        </p>\r\n        <a-tag color=\"green\" style=\"font-size: 14px\">\r\n      Fofa API Key: <span>{{ FofaApiKey }}</span>\r\n    </a-tag> -->\r\n        <a-button type=\"primary\" shape=\"round\" style=\"float: right;margin-right: 20px\" @click=\"create_goby()\">{{MainDesc.open_goby}}</a-button>\r\n      </div>\r\n      <div class=\"fofa-group\">\r\n        <a-divider style=\"font-size: 18px\">端口聚合</a-divider>\r\n        <div>\r\n            <a-spin :delay=\"1\" :spinning=\"HostStatus\">\r\n              <p>\r\n                <span>\r\n                  Host：<a-tag color=\"green\" style=\"font-size: 14px\">\r\n                    {{ focusHost }}\r\n                  </a-tag>\r\n                </span>\r\n                <span>\r\n                  IP：<a-tag\r\n                    color=\"green\"\r\n                    style=\"font-size: 14px\"\r\n                  >\r\n                    {{ focusIp }}\r\n                  </a-tag>\r\n                </span>\r\n                <span>\r\n                  Country：<a-tag\r\n                    color=\"green\"\r\n                    style=\"font-size: 14px\"\r\n                  >\r\n                    {{ focusCountryCode }}\r\n                  </a-tag>\r\n                </span>\r\n              </p>\r\n              <p>\r\n                <span>\r\n                  Org：<a-tag\r\n                    color=\"green\"\r\n                    style=\"font-size: 14px\"\r\n                  >\r\n                    {{ focusOrg }}\r\n                  </a-tag>\r\n                </span>\r\n                <span>\r\n                  ASN：<a-tag color=\"green\" style=\"font-size: 14px\">\r\n                    {{ focusAsn }}\r\n                  </a-tag>\r\n                </span>\r\n                <!-- <span>\r\n                  ASN：<a-tag color=\"green\" style=\"font-size: 14px\">\r\n                    {{ HostData.asn }}\r\n                  </a-tag>\r\n                </span> -->\r\n              </p>\r\n              <p>\r\n                Domains:\r\n                <span v-for=\"(domain, index) in focusDomain\" :key=\"index\">\r\n                  <span v-if=\"index !== 0\">, </span> <!-- 添加逗号分隔显示 -->\r\n                  <a :href=\"getEncodedUrl(domain)\" target=\"_blank\">\r\n                    <a-tag color=\"green\" style=\"font-size: 14px\">\r\n                      {{ domain }}\r\n                    </a-tag>\r\n                  </a>\r\n                </span>\r\n              </p>\r\n              <div class=\"table\">\r\n        <a-table\r\n          :dataSource=\"DataFocus\"\r\n          :columns=\"FocusColumns\"\r\n          :loading=\"tableLoading\"\r\n          :locale=\"{ emptyText: '暂无数据' }\"\r\n          :bordered=\"true\"\r\n        >\r\n          <template #name=\"{ text }\">\r\n            {{ text }}\r\n          </template>\r\n          <template #port=\"{ text: port,record }\">\r\n            <span>\r\n              <a :href=\"record.FocusUrl\" target=\"_blank\">\r\n              <a-tag color=\"green\">\r\n                {{ port }}\r\n              </a-tag>\r\n              </a>\r\n            </span>\r\n          </template>\r\n          <template #protocol=\"{ text: protocol }\">\r\n            <span>\r\n              <a-tag color=\"blue\">\r\n                {{ protocol }}\r\n              </a-tag>\r\n            </span>\r\n          </template>\r\n          <template #update_time=\"{ text: update_time }\">\r\n            <span>\r\n              <a-tag color=\"blue\">\r\n                {{ update_time }}\r\n              </a-tag>\r\n            </span>\r\n          </template>\r\n          <template #products=\"{ text: products }\">\r\n          <span>\r\n            <span v-for=\"(item, index) in products\" :key=\"index\">\r\n              <a-tag color=\"blue\">\r\n                {{ item.product }}\r\n              </a-tag>\r\n            </span>\r\n          </span>\r\n        </template>\r\n        </a-table>\r\n      </div>\r\n            </a-spin>\r\n        </div>\r\n    \r\n        <a-divider style=\"font-size: 18px\">{{ MainDesc.portitle }}</a-divider>\r\n        <div v-if=\"Ip || Domain\">\r\n          <div>\r\n            IP：\r\n            <a-tag color=\"green\" style=\"font-size: 14px\"> \r\n              <a :href=FofaIp target=\"_blank\">{{ Ip }}</a>\r\n            </a-tag>\r\n            Domain:&nbsp;&nbsp;<a-tag color=\"green\" style=\"font-size: 14px\">\r\n              <a :href=FofaDomain target=\"_blank\">{{ Domain }}</a>\r\n            </a-tag>\r\n            Detail:&nbsp;&nbsp;<a-tag color=\"green\" style=\"font-size: 14px\">\r\n              <a :href=HostDetail target=\"_blank\">Detail</a>\r\n            </a-tag>\r\n          </div>\r\n        </div>\r\n        <div v-else-if=\"Ip === 0 && Domain === 0\">\r\n          <p>\r\n            {{\r\n              MainDesc.portdescription.prompterror\r\n            }}\r\n          </p>\r\n        </div>\r\n        <div v-else>\r\n          <p>\r\n            {{\r\n              MainDesc.portdescription.prompt\r\n            }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"table\">\r\n        <a-table\r\n          :dataSource=\"dataSource\"\r\n          :columns=\"columns\"\r\n          :loading=\"tableLoading\"\r\n          :locale=\"{ emptyText: '暂无数据' }\"\r\n          :bordered=\"true\"\r\n        >\r\n          <template #name=\"{ text }\">\r\n            {{ text }}\r\n          </template>\r\n          <template #port=\"{ text: port,record }\">\r\n            <span>\r\n              <a :href=\"record.Url\" target=\"_blank\">\r\n              <a-tag color=\"green\">\r\n                {{ port }}\r\n              </a-tag>\r\n              </a>\r\n            </span>\r\n          </template>\r\n          <template #protocol=\"{ text: protocol }\">\r\n            <span>\r\n              <a-tag color=\"blue\">\r\n                {{ protocol }}\r\n              </a-tag>\r\n            </span>\r\n          </template>\r\n        </a-table>\r\n      </div>\r\n\r\n    </a-spin>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref, getCurrentInstance, onMounted, defineComponent } from \"vue\";\r\nimport { message } from \"ant-design-vue\";\r\n\r\n\r\nexport default defineComponent({\r\n\r\n  setup() {\r\n    const { proxy } = getCurrentInstance(); //来获取全局 globalProperties 中配置的信息\r\n    //定义变量\r\n    const urldata = ref(null);//url地址\r\n    const domaindata = ref(\"\");\r\n    const Url = ref(\"\");\r\n    const FocusUrl = ref(\"\");\r\n    const dataSource = ref([]);\r\n    const Ip = ref(null);\r\n    const Domain = ref(null);\r\n    const FofaIp = ref(\"\");\r\n    const FofaDomain = ref(\"\");\r\n    const HostDetail = ref(\"\");\r\n    const HostData = ref({});\r\n    const HostStatus = ref();\r\n    const tableLoading = ref();\r\n    const MainLoading = ref(false);\r\n    const PortList=ref([]);\r\n    const FofaApiKey = ref(\"\");\r\n    const inputApiKey = ref(\"\");\r\n    const DataFocus = ref([]);\r\n    const ProductsList = ref([]);\r\n    const focusIp = ref(\"\");\r\n    const focusHost = ref(\"\");\r\n    const focusAsn = ref(\"\");\r\n    const focusOrg = ref(\"\");\r\n    const focusCountryCode = ref(\"\");\r\n    const focusDomain = ref(\"\");\r\n    const focusPorts = ref([]);\r\n    const hostfocusData = ref({});\r\n    //国际化开发语言\r\n    const MainDesc = ref({\r\n      \"author\": \"Author\",\r\n      \"team\": \"Team\",\r\n      \"title\": \"Basic information\",\r\n      \"open_goby\": \"Create a goby scan\",\r\n      \"description\": {\r\n        \"country\": \"Country/Region\",\r\n        \"city\": \"City\",\r\n        \"organization\": \"Org\",\r\n        \"lastime\": \"Last update time\"\r\n      },\r\n      \"seotitle\": \"SEO Information\",\r\n      \"portitle\": \"Open Port\",\r\n      \"portdescription\": {\r\n        \"recommendtitle\": \"FOFA Query\",\r\n        \"prompt\": \"Loading\",\r\n        \"prompterror\": \"N/A\"\r\n      },\r\n      \"MainError\": {\r\n        \"buttonerror\": \"Do not click this plugin in the Plugin Center!\",\r\n        \"geturlerror\": \"Failed to obtain url, please refresh Tab\",\r\n        \"create_error\": \"Creation failure\",\r\n        \"create_success\":\"Created successfully\"\r\n      }\r\n    });\r\n    MainDesc.value = JSON.parse(\r\n      // eslint-disable-next-line no-undef\r\n      chrome.i18n.getMessage(\"MainDesc\").replaceAll(\"'\", '\"')\r\n    );\r\n    //监听事件\r\n    // eslint-disable-next-line no-undef\r\n    chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\r\n      if (\r\n        request.click === \"sendurl\" &&\r\n        MainLoading.value === true &&\r\n        HostStatus.value === true &&\r\n        tableLoading.value === true\r\n      ){\r\n        FofaApiKey.value = getFofaApiKey();\r\n        getHostFocus(() => {\r\n          // console.log(\"getHostFocus res\",response)\r\n      }\r\n      );\r\n      }\r\n      sendResponse(\"sendData OK---------\");\r\n      return true;\r\n    });\r\n\r\n    chrome.tabs.query({ active: true, lastFocusedWindow: true }, tabs => {\r\n      let currentTab = tabs[0]\r\n      if (currentTab) {\r\n        console.log(\"currentTab ,send message\",currentTab)\r\n        chrome.runtime.sendMessage({\r\n          'cmd': 'getHost',\r\n          'url': currentTab.url,\r\n        }, renderPopup)\r\n      }\r\n    });\r\n\r\n    const renderPopup = (response) => {\r\n      console.log(\"renderPopup res\",response)\r\n      if (response) {\r\n        // urldata.value = response.url;\r\n        console.log(\"renderPopup res\",response)\r\n        get_urlinfo(response);\r\n      }\r\n    }\r\n\r\n    //获取URL\r\n    const get_url = () => {\r\n      // eslint-disable-next-line no-undef\r\n      chrome.tabs.query({ active: true, lastFocusedWindow: true }, (tabs) => {\r\n        let url = tabs[0].url;\r\n        let UrlReg = /(http:\\/\\/|https:\\/\\/)((\\w|=|\\?|\\.|\\/|&|-)+)/g;\r\n        if (UrlReg.test(url)) {\r\n          url = url.replace(\"https://\", \"\").replace(\"http://\", \"\");\r\n          url = url.substring(0, url.indexOf(\"/\"));\r\n          if (url.indexOf(\":\") > 0) {\r\n            url = url.substring(0, url.indexOf(\":\"));\r\n          }\r\n          urldata.value = url;\r\n          // MainLoading.value = false;\r\n        } else if (url.indexOf(\"chrome://\") !== -1) {\r\n          MainLoading.value = false;\r\n          tableLoading.value = false;\r\n          HostStatus.value = false;\r\n          urldata.value = null;\r\n          Ip.value = 0;\r\n          Domain.value = 0;\r\n          message.error(MainDesc.value.MainError.buttonerror);\r\n        } else {\r\n          MainLoading.value = false;\r\n          tableLoading.value = false;\r\n          HostStatus.value = false;\r\n          urldata.value = null;\r\n          Ip.value = 0;\r\n          Domain.value = 0;\r\n          message.error(MainDesc.value.MainError.get_urlerror);\r\n        }\r\n      });\r\n    };\r\n\r\n    //获取站点信息\r\n    const get_urlinfo = (response) => {\r\n      try {\r\n        // let search = urldata.value;\r\n        let domain = null;\r\n        let res = response[\"host\"];\r\n          domaindata.value = res;\r\n          MainLoading.value = false;\r\n          tableLoading.value = false;\r\n          if (!res.error) {\r\n            if (res.domain) {\r\n              let domainlist = res.domain.split(\".\");\r\n              if (domainlist.length > 2) {\r\n                let rpdata = domainlist[0] + \".\";\r\n                domain = res.domain.replace(rpdata, \"\");\r\n              } else {\r\n                domain = res.domain;\r\n              }\r\n            } else {\r\n              domain = null;\r\n            }\r\n            Ip.value = `ip=\"${res.ip}\"`;\r\n            Domain.value = `domain=\"${domain}\"`;\r\n            HostDetail.value = \"https://fofa.info/hosts/\" + res.ip;\r\n            FofaIp.value = \"https://fofa.info/result?qbase64=\" + btoa(res.ip);\r\n            FofaDomain.value = \"https://fofa.info/result?qbase64=\" + btoa(Domain.value);\r\n            res.ports.forEach((item) => {\r\n              let resultdata = {};\r\n              PortList.value.push(item.port)\r\n              resultdata.port = item.port;\r\n              //判断协议类型\r\n              if (item.protocol == \"http\") {\r\n                resultdata.Url = \"http://\"+ res.ip + \":\" + item.port;\r\n              } else if (item.protocol == \"https\") {\r\n                resultdata.Url = \"https://\"+ res.ip + \":\" + item.port;\r\n              }\r\n              // resultdata.base_protocol = item.base_protocol;\r\n              resultdata.protocol = item.protocol;\r\n              dataSource.value.push(resultdata);\r\n            });\r\n          } else {\r\n            Ip.value = 0;\r\n            Domain.value = 0;\r\n            message.error(res.errmsg);\r\n          }\r\n        // });\r\n      } catch (error) {\r\n        MainLoading.value = false;\r\n        tableLoading.value = false;\r\n        message.error(\"ERROR:\" + error.message);\r\n      }\r\n    };\r\n\r\n\r\n  const getHostFocus = (callback) => {\r\n      try{\r\n        let host_ip = urldata.value;\r\n        let getUrl = \"https://fofa.info/api/v1/host/\" + host_ip + \"?detail=true&key=flagfofaapikey\";\r\n        proxy.$get(getUrl).then((response) => {\r\n          MainLoading.value = false;\r\n          HostStatus.value = false;\r\n          if (response.error) {\r\n            message.error(response.message);\r\n            callback(response);\r\n          } else {\r\n            hostfocusData.value = response;\r\n\r\n            focusIp.value = response.ip;\r\n            focusHost.value = response.host;\r\n            focusAsn.value = response.asn;\r\n            focusOrg.value = response.org;\r\n            focusCountryCode.value = response.country_code;\r\n            focusDomain.value = response.domain;\r\n            focusPorts.value = response.ports;\r\n            response.ports.forEach((item) => {\r\n                let resultdata = {};\r\n                resultdata.port = item.port;\r\n                if (item.protocol == \"http\") {\r\n                  resultdata.FocusUrl = \"http://\"+ response.ip + \":\" + item.port;\r\n                } else if (item.protocol == \"https\") {\r\n                  resultdata.FocusUrl = \"https://\"+ response.ip + \":\" + item.port;\r\n                }\r\n                resultdata.protocol = item.protocol;\r\n                resultdata.products = item.products;\r\n                resultdata.update_time = item.update_time;\r\n                resultdata.update_time = item.update_time.split(\" \")[0];\r\n                DataFocus.value.push(resultdata);\r\n                ProductsList.value.push(item.products);\r\n          });\r\n          callback(response);\r\n          }\r\n\r\n        });\r\n\r\n      }catch (error) {\r\n        MainLoading.value = false;\r\n        HostStatus.value = false;\r\n        message.error(\"ERROR:\" + error.message);\r\n        callback(error);\r\n      }\r\n    };\r\n\r\n    //单击复制事件\r\n    const copy = (event) => {\r\n      navigator.clipboard.writeText(event).then(() => {\r\n        message.success(\"Copy Success\");\r\n      });\r\n    };\r\n    //创建goby扫描任务\r\n    const create_goby=()=>{\r\n      let ips=urldata.value\r\n      let ports=PortList.value\r\n      const goby_url = `goby://openScanDia?ips=${ips}&&ports=${ports.join(',')}`;\r\n      if(!ips || !ports){\r\n        message.error(MainDesc.value.MainError.create_error)\r\n      }else{\r\n        message.success(MainDesc.value.MainError.create_success)\r\n        window.open(goby_url)\r\n      }\r\n    };\r\n    const saveFofaApiKey=(inputApiKey)=> {\r\n      // eslint-disable-next-line no-undef\r\n      chrome.storage.sync.set({ \"FofaApiKey\": inputApiKey }, function () {\r\n        alert(\"Value is set to \" + inputApiKey);\r\n        console.log(\"Value is set to \" + inputApiKey);\r\n      });\r\n    };\r\n    const getFofaApiKey=()=> {\r\n      // eslint-disable-next-line no-undef\r\n      chrome.storage.sync.get([\"FofaApiKey\"], function (result) {\r\n        console.log(\"Value currently is \" + result);\r\n        FofaApiKey.value = result.FofaApiKey;\r\n        \r\n        \r\n      });\r\n    };\r\n\r\n    const getEncodedUrl=(domain)=> {\r\n      let basedoamin = `domain=\"${domain}\"`;\r\n      const latin1Str = unescape(encodeURIComponent(basedoamin));\r\n      return \"https://fofa.info/result?qbase64=\" + btoa(latin1Str);\r\n    };\r\n    //节点挂在执行的事件\r\n    onMounted(() => {\r\n      tableLoading.value = true;\r\n      HostStatus.value = true;\r\n      MainLoading.value = true;\r\n      get_url();\r\n    });\r\n\r\n    return {\r\n      dataSource,\r\n      DataFocus,\r\n      FocusColumns:[\r\n        {\r\n          title: \"PORT\",\r\n          dataIndex: \"port\",\r\n          key: \"port\",\r\n          align: \"center\",\r\n          slots: {\r\n            customRender: \"port\",\r\n          },\r\n        },\r\n        {\r\n          title: \"Protocol\",\r\n          dataIndex: \"protocol\",\r\n          key: \"protocol\",\r\n          align: \"center\",\r\n          slots: {\r\n            customRender: \"protocol\",\r\n          },\r\n        },\r\n        {\r\n          title: \"Update Time\",\r\n          dataIndex: \"update_time\",\r\n          key: \"update_time\",\r\n          align: \"center\",\r\n          sorter: (a, b) => a.update_time.localeCompare(b.update_time),\r\n          defaultSortOrder: 'descend', // 可选值: 'ascend' 或 'descend'\r\n          slots: {\r\n            customRender: \"update_time\",\r\n          },\r\n        },\r\n        {\r\n          title: \"Products\",\r\n          dataIndex: \"products\",\r\n          key: \"products\",\r\n          align: \"center\",\r\n          slots: {\r\n            customRender: \"products\",\r\n          },\r\n        }\r\n\r\n      ],\r\n      \r\n\r\n      columns: [\r\n        {\r\n          title: \"PORT\",\r\n          dataIndex: \"port\",\r\n          key: \"port\",\r\n          align: \"center\",\r\n          slots: {\r\n            customRender: \"port\",\r\n          },\r\n        },\r\n        {\r\n          title: \"Protocol\",\r\n          dataIndex: \"protocol\",\r\n          key: \"protocol\",\r\n          align: \"center\",\r\n          slots: {\r\n            customRender: \"protocol\",\r\n          },\r\n        },\r\n      ],\r\n\r\n      //定义的全局变量\r\n      Ip,\r\n      Domain,\r\n      FofaIp,\r\n      FofaDomain,\r\n      HostDetail,\r\n      Url,\r\n      HostData,\r\n      HostStatus,\r\n      MainLoading,\r\n      tableLoading,\r\n      MainDesc,\r\n      FofaApiKey,\r\n      inputApiKey,\r\n      hostfocusData,\r\n      focusIp,\r\n      focusAsn,\r\n      focusOrg,\r\n      focusCountryCode,\r\n      focusDomain,\r\n      focusPorts,\r\n      ProductsList,\r\n      PortList,\r\n      FocusUrl,\r\n      focusHost,\r\n\r\n\r\n\r\n      //自定义函数\r\n      copy,\r\n      create_goby,\r\n      saveFofaApiKey,\r\n      getFofaApiKey,\r\n      getEncodedUrl,\r\n    };\r\n  },\r\n});\r\n\r\n</script>\r\n<style scoped>\r\n.main {\r\n  width: 600px;\r\n  height: 400px;\r\n}\r\n.top{\r\n  margin-left: 25px;\r\n  font-size: 13px;\r\n}\r\n.fofa-group {\r\n  margin-left: 25px;\r\n  font-size: 15px;\r\n}\r\n.table {\r\n  width: 550px;\r\n  margin: 10px auto 0 auto;\r\n}\r\n</style>\r\n","/*\n * @Author: zhizhuo \n * @Date: 2023-01-22 15:18:56 \n * @Last Modified by: zhizhuo\n * @Last Modified time: 2023-02-02 13:40:56\n */\n\n/**axios封装\n * 请求拦截、相应拦截、错误统一处理\n */\nimport axios from 'axios';\nimport Cookies from \"js-cookie\";\n//qs.stringify()是将对象 序列化成URL的形式，以&进行拼接\n// axios.defaults.baseURL = 'https://fofa.info/'\n\n\naxios.defaults.withCredentials = true;//携带cookie\n\naxios.interceptors.request.use( //响应拦截\n    async config => {\n        // 每次发送请求之前判断vuex中是否存在token        \n        // 如果存在，则统一在http请求的header都加上token，这样后台根据token判断你的登录情况\n        // 即使本地存在token，也有可能token是过期的，所以在响应拦截器中要对返回状态进行判断 \n        config.headers.authorization = Cookies.get('token') || 'Bearer '+sessionStorage.getItem('Token')\n        return config;\n    },\n    error => {\n        return Promise.error(error);\n    })\n// 响应拦截器\naxios.interceptors.response.use(\n\n    response => {\n        if (response.status === 200) {\n            return Promise.resolve(response); //进行中        \n        } else {\n            return Promise.reject(response); //失败       \n        }\n    },\n    // 服务器状态码不是200的情况    \n    error => {\n        if (error.response.status) {\n            switch (error.response.status) {\n                // 401: 未登录                \n                // 未登录则跳转登录页面，并携带当前页面的路径                \n                // 在登录成功后返回当前页面，这一步需要在登录页操作。                \n                case 401:\n                    window.location.href = \"https://fofa.info/f_login\"\n                    break            \n                // 跳转登录页面                \n                case 403:\n                    window.location.href = \"https://fofa.info/f_login\"\n                    break\n                // 404请求不存在                \n                case 404:\n                    break;\n                // 其他错误，直接抛出错误提示                \n                default:\n\n            }\n            return Promise.reject(error.response);\n        }\n    }\n);\n/** \n * get方法，对应get请求 \n * @param {String} url [请求的url地址] \n * @param {Object} params [请求时携带的参数] \n */\nconst $get = (url, params) => {\n    return new Promise((resolve, reject) => {\n        axios.get(url, {\n            params: params,\n        })\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(err => {\n                reject(err.data)\n            })\n    });\n}\n/** \n * post方法，对应post请求 \n * @param {String} url [请求的url地址] \n * @param {Object} params [请求时携带的参数] \n */\nconst $post = (url, params) => {\n    return new Promise((resolve, reject) => {\n        // eslint-disable-next-line no-undef\n        axios.post(url, qs.stringify(params)) //是将对象 序列化成URL的形式，以&进行拼接   \n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(err => {\n                reject(err.data)\n            })\n    });\n}\n\nexport default {\n    install: (app) => {\n        app.config.globalProperties['$get'] = $get;\n        app.config.globalProperties['$post'] = $post;\n        app.config.globalProperties['$axios'] = axios;\n    }\n}","/* eslint-disable no-undef */\nimport { createApp } from 'vue'\nimport App from './components/App.vue'\n//引入第三方组件\nimport Antd from 'ant-design-vue';\nimport 'ant-design-vue/dist/reset.css';\n//引入axios\nimport axios from '../plugins/axios'\n\nconst app = createApp(App)\n\napp.use(Antd).use(axios).mount('#app')\n\n\n\n//监听消息事件\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n  console.log(request)\n  console.log(sender)\n  sendResponse(\"OK\")\n});\n\nchrome.runtime.sendMessage(\n  { cmd: 'popup', click: \"do\" },\n  function (response) {\n    console.log(response)\n  }\n)\n\n","// extracted by mini-css-extract-plugin\nexport {};","import { render } from \"./App.vue?vue&type=template&id=b37565b8&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=b37565b8&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/topsry/Desktop/github/fofa-view-plus-fingerprint/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b37565b8\"],['__file',\"src/popup/components/App.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"b37565b8\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('b37565b8', __exports__)) {\n    api.reload('b37565b8', __exports__)\n  }\n  \n  module.hot.accept(\"./App.vue?vue&type=template&id=b37565b8&scoped=true\", () => {\n    api.rerender('b37565b8', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./App.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./App.vue?vue&type=script&lang=js\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"popup\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfofa_search\"] = self[\"webpackChunkfofa_search\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"chunk-vendors\"], function() { return __webpack_require__(\"./src/popup/main.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}